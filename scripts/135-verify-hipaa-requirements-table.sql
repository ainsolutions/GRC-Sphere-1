-- Verify HIPAA requirements table exists and has data
DO $$
BEGIN
    -- Check if hipaa_requirements table exists
    IF NOT EXISTS (SELECT FROM information_schema.tables WHERE table_name = 'hipaa_requirements') THEN
        RAISE NOTICE 'Creating hipaa_requirements table...';
        
        CREATE TABLE hipaa_requirements (
            id SERIAL PRIMARY KEY,
            requirement_id VARCHAR(50) NOT NULL,
            title VARCHAR(500) NOT NULL,
            description TEXT,
            category VARCHAR(100) NOT NULL,
            priority VARCHAR(50) DEFAULT 'Required',
            status VARCHAR(50) DEFAULT 'Not Started',
            created_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
            updated_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP
        );
        
        -- Insert sample HIPAA requirements
        INSERT INTO hipaa_requirements (requirement_id, title, description, category, priority, status) VALUES
        ('164.308(a)(1)(i)', 'Security Officer', 'Assign security responsibilities to an individual', 'Administrative Safeguards', 'Required', 'Not Started'),
        ('164.308(a)(1)(ii)(A)', 'Assigned Security Responsibilities', 'Identify the security officer who is responsible for developing and implementing policies and procedures', 'Administrative Safeguards', 'Required', 'Not Started'),
        ('164.308(a)(1)(ii)(B)', 'Workforce Training', 'Implement procedures for authorizing access to electronic protected health information', 'Administrative Safeguards', 'Required', 'Not Started'),
        ('164.308(a)(2)', 'Assigned Security Responsibilities', 'Assign security responsibilities to an individual', 'Administrative Safeguards', 'Required', 'Not Started'),
        ('164.308(a)(3)(i)', 'Workforce Access Management', 'Implement procedures for authorizing access to electronic protected health information', 'Administrative Safeguards', 'Required', 'Not Started'),
        ('164.308(a)(3)(ii)(A)', 'Authorization Procedures', 'Implement procedures for granting access to electronic protected health information', 'Administrative Safeguards', 'Required', 'Not Started'),
        ('164.308(a)(3)(ii)(B)', 'Workforce Clearance Procedures', 'Implement procedures for determining that the access of a workforce member to electronic protected health information is appropriate', 'Administrative Safeguards', 'Addressable', 'Not Started'),
        ('164.308(a)(3)(ii)(C)', 'Termination Procedures', 'Implement procedures for terminating access to electronic protected health information when the employment of a workforce member ends', 'Administrative Safeguards', 'Addressable', 'Not Started'),
        ('164.308(a)(4)(i)', 'Information Access Management', 'Implement policies and procedures for authorizing access to electronic protected health information', 'Administrative Safeguards', 'Required', 'Not Started'),
        ('164.308(a)(4)(ii)(A)', 'Isolating Healthcare Clearinghouse Functions', 'If a health care clearinghouse is part of a larger organization, the clearinghouse must implement policies and procedures that protect the electronic protected health information of the clearinghouse from unauthorized access by the larger organization', 'Administrative Safeguards', 'Required', 'Not Started'),
        ('164.308(a)(4)(ii)(B)', 'Access Authorization', 'Implement policies and procedures for granting access to electronic protected health information', 'Administrative Safeguards', 'Addressable', 'Not Started'),
        ('164.308(a)(4)(ii)(C)', 'Access Establishment and Modification', 'Implement policies and procedures that, based upon the entity access authorization policies, establish, document, review, and modify a user right of access to a workstation, transaction, program, or process', 'Administrative Safeguards', 'Addressable', 'Not Started'),
        ('164.308(a)(5)(i)', 'Security Awareness and Training', 'Implement a security awareness and training program for all members of its workforce', 'Administrative Safeguards', 'Required', 'Not Started'),
        ('164.308(a)(5)(ii)(A)', 'Security Reminders', 'Periodic security updates', 'Administrative Safeguards', 'Addressable', 'Not Started'),
        ('164.308(a)(5)(ii)(B)', 'Protection from Malicious Software', 'Procedures for guarding against, detecting, and reporting malicious software', 'Administrative Safeguards', 'Addressable', 'Not Started'),
        ('164.308(a)(5)(ii)(C)', 'Log-in Monitoring', 'Procedures for monitoring log-in attempts and reporting discrepancies', 'Administrative Safeguards', 'Addressable', 'Not Started'),
        ('164.308(a)(5)(ii)(D)', 'Password Management', 'Procedures for creating, changing, and safeguarding passwords', 'Administrative Safeguards', 'Addressable', 'Not Started'),
        ('164.308(a)(6)(i)', 'Security Incident Procedures', 'Implement policies and procedures to address security incidents', 'Administrative Safeguards', 'Required', 'Not Started'),
        ('164.308(a)(6)(ii)', 'Response and Reporting', 'Identify and respond to suspected or known security incidents; mitigate, to the extent practicable, harmful effects of security incidents that are known to the covered entity; and document security incidents and their outcomes', 'Administrative Safeguards', 'Required', 'Not Started'),
        ('164.308(a)(7)(i)', 'Contingency Plan', 'Establish (and implement as needed) policies and procedures for responding to an emergency or other occurrence', 'Administrative Safeguards', 'Required', 'Not Started'),
        ('164.308(a)(7)(ii)(A)', 'Data Backup Plan', 'Establish and implement procedures to create and maintain retrievable exact copies of electronic protected health information', 'Administrative Safeguards', 'Addressable', 'Not Started'),
        ('164.308(a)(7)(ii)(B)', 'Disaster Recovery Plan', 'Establish (and implement as needed) procedures to restore any loss of data', 'Administrative Safeguards', 'Addressable', 'Not Started'),
        ('164.308(a)(7)(ii)(C)', 'Emergency Mode Operation Plan', 'Establish (and implement as needed) procedures to enable continuation of critical business processes for protection of the security of electronic protected health information while operating in emergency mode', 'Administrative Safeguards', 'Addressable', 'Not Started'),
        ('164.308(a)(7)(ii)(D)', 'Testing and Revision Procedures', 'Implement procedures for periodic testing and revision of contingency plans', 'Administrative Safeguards', 'Addressable', 'Not Started'),
        ('164.308(a)(7)(ii)(E)', 'Applications and Data Criticality Analysis', 'Assess the relative criticality of specific applications and data in support of other contingency plan components', 'Administrative Safeguards', 'Addressable', 'Not Started'),
        ('164.308(a)(8)', 'Evaluation', 'Perform a periodic technical and nontechnical evaluation', 'Administrative Safeguards', 'Required', 'Not Started'),
        ('164.310(a)(1)', 'Facility Access Controls', 'Implement policies and procedures to limit physical access to its electronic information systems and the facility or facilities in which they are housed', 'Physical Safeguards', 'Required', 'Not Started'),
        ('164.310(a)(2)(i)', 'Contingency Operations', 'Establish (and implement as needed) procedures that allow facility access in support of restoration of lost data under the disaster recovery plan and emergency mode operations plan', 'Physical Safeguards', 'Addressable', 'Not Started'),
        ('164.310(a)(2)(ii)', 'Facility Security Plan', 'Implement policies and procedures to safeguard the facility and the equipment therein from unauthorized physical access, tampering, and theft', 'Physical Safeguards', 'Addressable', 'Not Started'),
        ('164.310(a)(2)(iii)', 'Access Control and Validation Procedures', 'Implement procedures to control and validate a person access to facilities based on their role or function', 'Physical Safeguards', 'Addressable', 'Not Started'),
        ('164.310(a)(2)(iv)', 'Maintenance Records', 'Implement policies and procedures to document repairs and modifications to the physical components of a facility', 'Physical Safeguards', 'Addressable', 'Not Started'),
        ('164.310(b)', 'Workstation Use', 'Implement policies and procedures that specify the proper functions to be performed, the manner in which those functions are to be performed, and the physical attributes of the surroundings of a specific workstation or class of workstation that can access electronic protected health information', 'Physical Safeguards', 'Required', 'Not Started'),
        ('164.310(c)', 'Device and Media Controls', 'Implement policies and procedures that govern the receipt and removal of hardware and electronic media that contain electronic protected health information', 'Physical Safeguards', 'Required', 'Not Started'),
        ('164.310(d)(1)', 'Disposal', 'Implement policies and procedures to address the final disposition of electronic protected health information, and/or the hardware or electronic media on which it is stored', 'Physical Safeguards', 'Addressable', 'Not Started'),
        ('164.310(d)(2)(i)', 'Media Re-use', 'Implement procedures for removal of electronic protected health information from electronic media before the media are made available for re-use', 'Physical Safeguards', 'Addressable', 'Not Started'),
        ('164.310(d)(2)(ii)', 'Accountability', 'Maintain a record of the movements of hardware and electronic media and any person responsible therefore', 'Physical Safeguards', 'Addressable', 'Not Started'),
        ('164.310(d)(2)(iii)', 'Data Backup and Storage', 'Create a retrievable, exact copy of electronic protected health information, when needed, before movement of equipment', 'Physical Safeguards', 'Addressable', 'Not Started'),
        ('164.312(a)(1)', 'Access Control', 'Implement technical policies and procedures for electronic information systems that maintain electronic protected health information to allow access only to those persons or software programs that have been granted access rights', 'Technical Safeguards', 'Required', 'Not Started'),
        ('164.312(a)(2)(i)', 'Unique User Identification', 'Assign a unique name and/or number for identifying and tracking user identity', 'Technical Safeguards', 'Required', 'Not Started'),
        ('164.312(a)(2)(ii)', 'Emergency Access Procedure', 'Establish (and implement as needed) procedures for obtaining necessary electronic protected health information during an emergency', 'Technical Safeguards', 'Required', 'Not Started'),
        ('164.312(a)(2)(iii)', 'Automatic Logoff', 'Implement electronic procedures that terminate an electronic session after a predetermined time of inactivity', 'Technical Safeguards', 'Addressable', 'Not Started'),
        ('164.312(a)(2)(iv)', 'Encryption and Decryption', 'Implement a mechanism to encrypt and decrypt electronic protected health information', 'Technical Safeguards', 'Addressable', 'Not Started'),
        ('164.312(b)', 'Audit Controls', 'Implement hardware, software, and/or procedural mechanisms that record and examine activity in information systems that contain or use electronic protected health information', 'Technical Safeguards', 'Required', 'Not Started'),
        ('164.312(c)(1)', 'Integrity', 'Implement policies and procedures to protect electronic protected health information from improper alteration or destruction', 'Technical Safeguards', 'Required', 'Not Started'),
        ('164.312(c)(2)', 'Mechanism to Authenticate Electronic Protected Health Information', 'Implement electronic mechanisms to corroborate that electronic protected health information has not been altered or destroyed in an unauthorized manner', 'Technical Safeguards', 'Addressable', 'Not Started'),
        ('164.312(d)', 'Person or Entity Authentication', 'Implement procedures to verify that a person or entity seeking access to electronic protected health information is the one claimed', 'Technical Safeguards', 'Required', 'Not Started'),
        ('164.312(e)(1)', 'Transmission Security', 'Implement technical security measures to guard against unauthorized access to electronic protected health information that is being transmitted over an electronic communications network', 'Technical Safeguards', 'Required', 'Not Started'),
        ('164.312(e)(2)(i)', 'Integrity Controls', 'Implement security measures to ensure that electronically transmitted electronic protected health information is not improperly modified without detection until disposed of', 'Technical Safeguards', 'Addressable', 'Not Started'),
        ('164.312(e)(2)(ii)', 'Encryption', 'Implement a mechanism to encrypt electronic protected health information whenever deemed appropriate', 'Technical Safeguards', 'Addressable', 'Not Started'),
        ('164.502(a)', 'Standard: Minimum Necessary', 'When using or disclosing protected health information or when requesting protected health information from another covered entity, a covered entity must make reasonable efforts to limit protected health information to the minimum necessary to accomplish the intended purpose of the use, disclosure, or request', 'Privacy Rule', 'Required', 'Not Started'),
        ('164.502(b)', 'Standard: Uses and Disclosures of Protected Health Information', 'Except as otherwise permitted or required by this subpart, a covered entity may not use or disclose protected health information', 'Privacy Rule', 'Required', 'Not Started'),
        ('164.506', 'Standard: Uses and Disclosures to Carry Out Treatment, Payment, or Health Care Operations', 'A covered entity may use or disclose protected health information for its own treatment, payment, or health care operations', 'Privacy Rule', 'Required', 'Not Started'),
        ('164.508', 'Standard: Uses and Disclosures for Which an Authorization is Required', 'A covered entity may not use or disclose protected health information except as permitted or required by this subpart or by subpart C of part 160 of this subchapter', 'Privacy Rule', 'Required', 'Not Started'),
        ('164.510', 'Standard: Uses and Disclosures Requiring an Opportunity for the Individual to Agree or to Object', 'A covered entity may use or disclose protected health information, provided that the individual is informed in advance of the use or disclosure and has the opportunity to agree to or prohibit or restrict the use or disclosure', 'Privacy Rule', 'Required', 'Not Started'),
        ('164.512', 'Standard: Uses and Disclosures for Which an Authorization or Opportunity to Agree or Object is Not Required', 'A covered entity may use or disclose protected health information without the written authorization of the individual, or the opportunity for the individual to agree or object', 'Privacy Rule', 'Required', 'Not Started'),
        ('164.514', 'Standard: Other Requirements Relating to Uses and Disclosures of Protected Health Information', 'A covered entity may not use or disclose protected health information, except as permitted or required by this subpart or by subpart C of part 160 of this subchapter', 'Privacy Rule', 'Required', 'Not Started'),
        ('164.520', 'Standard: Notice of Privacy Practices for Protected Health Information', 'A covered entity must provide a notice that is written in plain language and that contains the elements described in this section', 'Privacy Rule', 'Required', 'Not Started'),
        ('164.522', 'Standard: Rights to Request Privacy Protection for Protected Health Information', 'A covered entity must permit an individual to request that the covered entity restrict uses or disclosures of protected health information about the individual to carry out treatment, payment, or health care operations', 'Privacy Rule', 'Required', 'Not Started'),
        ('164.524', 'Standard: Access of Individuals to Protected Health Information', 'An individual has a right of access to inspect and obtain a copy of protected health information about the individual in a designated record set', 'Privacy Rule', 'Required', 'Not Started'),
        ('164.526', 'Standard: Amendment of Protected Health Information', 'An individual has the right to have a covered entity amend protected health information or a record about the individual in a designated record set', 'Privacy Rule', 'Required', 'Not Started'),
        ('164.528', 'Standard: Accounting of Disclosures of Protected Health Information', 'An individual has a right to receive an accounting of disclosures of protected health information made by a covered entity in the six years prior to the date on which the accounting is requested', 'Privacy Rule', 'Required', 'Not Started');
        
        RAISE NOTICE 'HIPAA requirements table created and populated with % records', (SELECT COUNT(*) FROM hipaa_requirements);
    ELSE
        RAISE NOTICE 'HIPAA requirements table already exists with % records', (SELECT COUNT(*) FROM hipaa_requirements);
        
        -- If table exists but has no data, insert sample data
        IF (SELECT COUNT(*) FROM hipaa_requirements) = 0 THEN
            RAISE NOTICE 'Inserting sample HIPAA requirements data...';
            
            INSERT INTO hipaa_requirements (requirement_id, title, description, category, priority, status) VALUES
            ('164.308(a)(1)(i)', 'Security Officer', 'Assign security responsibilities to an individual', 'Administrative Safeguards', 'Required', 'Not Started'),
            ('164.308(a)(1)(ii)(A)', 'Assigned Security Responsibilities', 'Identify the security officer who is responsible for developing and implementing policies and procedures', 'Administrative Safeguards', 'Required', 'Not Started'),
            ('164.308(a)(1)(ii)(B)', 'Workforce Training', 'Implement procedures for authorizing access to electronic protected health information', 'Administrative Safeguards', 'Required', 'Not Started'),
            ('164.308(a)(2)', 'Assigned Security Responsibilities', 'Assign security responsibilities to an individual', 'Administrative Safeguards', 'Required', 'Not Started'),
            ('164.308(a)(3)(i)', 'Workforce Access Management', 'Implement procedures for authorizing access to electronic protected health information', 'Administrative Safeguards', 'Required', 'Not Started'),
            ('164.308(a)(3)(ii)(A)', 'Authorization Procedures', 'Implement procedures for granting access to electronic protected health information', 'Administrative Safeguards', 'Required', 'Not Started'),
            ('164.308(a)(3)(ii)(B)', 'Workforce Clearance Procedures', 'Implement procedures for determining that the access of a workforce member to electronic protected health information is appropriate', 'Administrative Safeguards', 'Addressable', 'Not Started'),
            ('164.308(a)(3)(ii)(C)', 'Termination Procedures', 'Implement procedures for terminating access to electronic protected health information when the employment of a workforce member ends', 'Administrative Safeguards', 'Addressable', 'Not Started'),
            ('164.308(a)(4)(i)', 'Information Access Management', 'Implement policies and procedures for authorizing access to electronic protected health information', 'Administrative Safeguards', 'Required', 'Not Started'),
            ('164.308(a)(4)(ii)(A)', 'Isolating Healthcare Clearinghouse Functions', 'If a health care clearinghouse is part of a larger organization, the clearinghouse must implement policies and procedures that protect the electronic protected health information of the clearinghouse from unauthorized access by the larger organization', 'Administrative Safeguards', 'Required', 'Not Started'),
            ('164.308(a)(4)(ii)(B)', 'Access Authorization', 'Implement policies and procedures for granting access to electronic protected health information', 'Administrative Safeguards', 'Addressable', 'Not Started'),
            ('164.308(a)(4)(ii)(C)', 'Access Establishment and Modification', 'Implement policies and procedures that, based upon the entity access authorization policies, establish, document, review, and modify a user right of access to a workstation, transaction, program, or process', 'Administrative Safeguards', 'Addressable', 'Not Started'),
            ('164.308(a)(5)(i)', 'Security Awareness and Training', 'Implement a security awareness and training program for all members of its workforce', 'Administrative Safeguards', 'Required', 'Not Started'),
            ('164.308(a)(5)(ii)(A)', 'Security Reminders', 'Periodic security updates', 'Administrative Safeguards', 'Addressable', 'Not Started'),
            ('164.308(a)(5)(ii)(B)', 'Protection from Malicious Software', 'Procedures for guarding against, detecting, and reporting malicious software', 'Administrative Safeguards', 'Addressable', 'Not Started'),
            ('164.308(a)(5)(ii)(C)', 'Log-in Monitoring', 'Procedures for monitoring log-in attempts and reporting discrepancies', 'Administrative Safeguards', 'Addressable', 'Not Started'),
            ('164.308(a)(5)(ii)(D)', 'Password Management', 'Procedures for creating, changing, and safeguarding passwords', 'Administrative Safeguards', 'Addressable', 'Not Started'),
            ('164.308(a)(6)(i)', 'Security Incident Procedures', 'Implement policies and procedures to address security incidents', 'Administrative Safeguards', 'Required', 'Not Started'),
            ('164.308(a)(6)(ii)', 'Response and Reporting', 'Identify and respond to suspected or known security incidents; mitigate, to the extent practicable, harmful effects of security incidents that are known to the covered entity; and document security incidents and their outcomes', 'Administrative Safeguards', 'Required', 'Not Started'),
            ('164.308(a)(7)(i)', 'Contingency Plan', 'Establish (and implement as needed) policies and procedures for responding to an emergency or other occurrence', 'Administrative Safeguards', 'Required', 'Not Started'),
            ('164.308(a)(7)(ii)(A)', 'Data Backup Plan', 'Establish and implement procedures to create and maintain retrievable exact copies of electronic protected health information', 'Administrative Safeguards', 'Addressable', 'Not Started'),
            ('164.308(a)(7)(ii)(B)', 'Disaster Recovery Plan', 'Establish (and implement as needed) procedures to restore any loss of data', 'Administrative Safeguards', 'Addressable', 'Not Started'),
            ('164.308(a)(7)(ii)(C)', 'Emergency Mode Operation Plan', 'Establish (and implement as needed) procedures to enable continuation of critical business processes for protection of the security of electronic protected health information while operating in emergency mode', 'Administrative Safeguards', 'Addressable', 'Not Started'),
            ('164.308(a)(7)(ii)(D)', 'Testing and Revision Procedures', 'Implement procedures for periodic testing and revision of contingency plans', 'Administrative Safeguards', 'Addressable', 'Not Started'),
            ('164.308(a)(7)(ii)(E)', 'Applications and Data Criticality Analysis', 'Assess the relative criticality of specific applications and data in support of other contingency plan components', 'Administrative Safeguards', 'Addressable', 'Not Started'),
            ('164.308(a)(8)', 'Evaluation', 'Perform a periodic technical and nontechnical evaluation', 'Administrative Safeguards', 'Required', 'Not Started'),
            ('164.310(a)(1)', 'Facility Access Controls', 'Implement policies and procedures to limit physical access to its electronic information systems and the facility or facilities in which they are housed', 'Physical Safeguards', 'Required', 'Not Started'),
            ('164.310(a)(2)(i)', 'Contingency Operations', 'Establish (and implement as needed) procedures that allow facility access in support of restoration of lost data under the disaster recovery plan and emergency mode operations plan', 'Physical Safeguards', 'Addressable', 'Not Started'),
            ('164.310(a)(2)(ii)', 'Facility Security Plan', 'Implement policies and procedures to safeguard the facility and the equipment therein from unauthorized physical access, tampering, and theft', 'Physical Safeguards', 'Addressable', 'Not Started'),
            ('164.310(a)(2)(iii)', 'Access Control and Validation Procedures', 'Implement procedures to control and validate a person access to facilities based on their role or function', 'Physical Safeguards', 'Addressable', 'Not Started'),
            ('164.310(a)(2)(iv)', 'Maintenance Records', 'Implement policies and procedures to document repairs and modifications to the physical components of a facility', 'Physical Safeguards', 'Addressable', 'Not Started'),
            ('164.310(b)', 'Workstation Use', 'Implement policies and procedures that specify the proper functions to be performed, the manner in which those functions are to be performed, and the physical attributes of the surroundings of a specific workstation or class of workstation that can access electronic protected health information', 'Physical Safeguards', 'Required', 'Not Started'),
            ('164.310(c)', 'Device and Media Controls', 'Implement policies and procedures that govern the receipt and removal of hardware and electronic media that contain electronic protected health information', 'Physical Safeguards', 'Required', 'Not Started'),
            ('164.310(d)(1)', 'Disposal', 'Implement policies and procedures to address the final disposition of electronic protected health information, and/or the hardware or electronic media on which it is stored', 'Physical Safeguards', 'Addressable', 'Not Started'),
            ('164.310(d)(2)(i)', 'Media Re-use', 'Implement procedures for removal of electronic protected health information from electronic media before the media are made available for re-use', 'Physical Safeguards', 'Addressable', 'Not Started'),
            ('164.310(d)(2)(ii)', 'Accountability', 'Maintain a record of the movements of hardware and electronic media and any person responsible therefore', 'Physical Safeguards', 'Addressable', 'Not Started'),
            ('164.310(d)(2)(iii)', 'Data Backup and Storage', 'Create a retrievable, exact copy of electronic protected health information, when needed, before movement of equipment', 'Physical Safeguards', 'Addressable', 'Not Started'),
            ('164.312(a)(1)', 'Access Control', 'Implement technical policies and procedures for electronic information systems that maintain electronic protected health information to allow access only to those persons or software programs that have been granted access rights', 'Technical Safeguards', 'Required', 'Not Started'),
            ('164.312(a)(2)(i)', 'Unique User Identification', 'Assign a unique name and/or number for identifying and tracking user identity', 'Technical Safeguards', 'Required', 'Not Started'),
            ('164.312(a)(2)(ii)', 'Emergency Access Procedure', 'Establish (and implement as needed) procedures for obtaining necessary electronic protected health information during an emergency', 'Technical Safeguards', 'Required', 'Not Started'),
            ('164.312(a)(2)(iii)', 'Automatic Logoff', 'Implement electronic procedures that terminate an electronic session after a predetermined time of inactivity', 'Technical Safeguards', 'Addressable', 'Not Started'),
            ('164.312(a)(2)(iv)', 'Encryption and Decryption', 'Implement a mechanism to encrypt and decrypt electronic protected health information', 'Technical Safeguards', 'Addressable', 'Not Started'),
            ('164.312(b)', 'Audit Controls', 'Implement hardware, software, and/or procedural mechanisms that record and examine activity in information systems that contain or use electronic protected health information', 'Technical Safeguards', 'Required', 'Not Started'),
            ('164.312(c)(1)', 'Integrity', 'Implement policies and procedures to protect electronic protected health information from improper alteration or destruction', 'Technical Safeguards', 'Required', 'Not Started'),
            ('164.312(c)(2)', 'Mechanism to Authenticate Electronic Protected Health Information', 'Implement electronic mechanisms to corroborate that electronic protected health information has not been altered or destroyed in an unauthorized manner', 'Technical Safeguards', 'Addressable', 'Not Started'),
            ('164.312(d)', 'Person or Entity Authentication', 'Implement procedures to verify that a person or entity seeking access to electronic protected health information is the one claimed', 'Technical Safeguards', 'Required', 'Not Started'),
            ('164.312(e)(1)', 'Transmission Security', 'Implement technical security measures to guard against unauthorized access to electronic protected health information that is being transmitted over an electronic communications network', 'Technical Safeguards', 'Required', 'Not Started'),
            ('164.312(e)(2)(i)', 'Integrity Controls', 'Implement security measures to ensure that electronically transmitted electronic protected health information is not improperly modified without detection until disposed of', 'Technical Safeguards', 'Addressable', 'Not Started'),
            ('164.312(e)(2)(ii)', 'Encryption', 'Implement a mechanism to encrypt electronic protected health information whenever deemed appropriate', 'Technical Safeguards', 'Addressable', 'Not Started'),
            ('164.502(a)', 'Standard: Minimum Necessary', 'When using or disclosing protected health information or when requesting protected health information from another covered entity, a covered entity must make reasonable efforts to limit protected health information to the minimum necessary to accomplish the intended purpose of the use, disclosure, or request', 'Privacy Rule', 'Required', 'Not Started'),
            ('164.502(b)', 'Standard: Uses and Disclosures of Protected Health Information', 'Except as otherwise permitted or required by this subpart, a covered entity may not use or disclose protected health information', 'Privacy Rule', 'Required', 'Not Started'),
            ('164.506', 'Standard: Uses and Disclosures to Carry Out Treatment, Payment, or Health Care Operations', 'A covered entity may use or disclose protected health information for its own treatment, payment, or health care operations', 'Privacy Rule', 'Required', 'Not Started'),
            ('164.508', 'Standard: Uses and Disclosures for Which an Authorization is Required', 'A covered entity may not use or disclose protected health information except as permitted or required by this subpart or by subpart C of part 160 of this subchapter', 'Privacy Rule', 'Required', 'Not Started'),
            ('164.510', 'Standard: Uses and Disclosures Requiring an Opportunity for the Individual to Agree or to Object', 'A covered entity may use or disclose protected health information, provided that the individual is informed in advance of the use or disclosure and has the opportunity to agree to or prohibit or restrict the use or disclosure', 'Privacy Rule', 'Required', 'Not Started'),
            ('164.512', 'Standard: Uses and Disclosures for Which an Authorization or Opportunity to Agree or Object is Not Required', 'A covered entity may use or disclose protected health information without the written authorization of the individual, or the opportunity for the individual to agree or object', 'Privacy Rule', 'Required', 'Not Started'),
            ('164.514', 'Standard: Other Requirements Relating to Uses and Disclosures of Protected Health Information', 'A covered entity may not use or disclose protected health information, except as permitted or required by this subpart or by subpart C of part 160 of this subchapter', 'Privacy Rule', 'Required', 'Not Started'),
            ('164.520', 'Standard: Notice of Privacy Practices for Protected Health Information', 'A covered entity must provide a notice that is written in plain language and that contains the elements described in this section', 'Privacy Rule', 'Required', 'Not Started'),
            ('164.522', 'Standard: Rights to Request Privacy Protection for Protected Health Information', 'A covered entity must permit an individual to request that the covered entity restrict uses or disclosures of protected health information about the individual to carry out treatment, payment, or health care operations', 'Privacy Rule', 'Required', 'Not Started'),
            ('164.524', 'Standard: Access of Individuals to Protected Health Information', 'An individual has a right of access to inspect and obtain a copy of protected health information about the individual in a designated record set', 'Privacy Rule', 'Required', 'Not Started'),
            ('164.526', 'Standard: Amendment of Protected Health Information', 'An individual has the right to have a covered entity amend protected health information or a record about the individual in a designated record set', 'Privacy Rule', 'Required', 'Not Started'),
            ('164.528', 'Standard: Accounting of Disclosures of Protected Health Information', 'An individual has a right to receive an accounting of disclosures of protected health information made by a covered entity in the six years prior to the date on which the accounting is requested', 'Privacy Rule', 'Required', 'Not Started');
            
            RAISE NOTICE 'Inserted % HIPAA requirements records', (SELECT COUNT(*) FROM hipaa_requirements);
        END IF;
    END IF;
END $$;
